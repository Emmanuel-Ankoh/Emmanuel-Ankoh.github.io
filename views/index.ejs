<%- include('partials/head', { title }) %>
<main id="main">
  <section class="hero" aria-label="Intro">
    <div class="container hero-grid">
      <div>
        <h1 data-aos="fade-up">Hi, I'm <span class="accent"><%= (settings && settings.name) || (profile && profile.name) || 'Your Name' %></span></h1>
        <p class="subtitle" data-aos="fade-up" data-aos-delay="100"><%= (settings && settings.headline) || (profile && profile.headline) || 'Full-Stack Developer' %></p>
        <p data-aos="fade-up" data-aos-delay="200"><%= (settings && settings.summary) || (profile && profile.summary) || 'I build fast, accessible, and delightful web apps with clean code and solid engineering practices.' %></p>
        <div class="hero-ctas" data-aos="fade-up" data-aos-delay="300">
          <a href="<%= (settings && settings.homeCta && settings.homeCta.primaryUrl) || '/projects' %>" class="btn btn-primary"><%= (settings && settings.homeCta && settings.homeCta.primaryText) || 'View Projects' %></a>
          <a href="<%= (settings && settings.homeCta && settings.homeCta.secondaryUrl) || '/contact' %>" class="btn"><%= (settings && settings.homeCta && settings.homeCta.secondaryText) || 'Get in Touch' %></a>
        </div>
      </div>
      <div data-aos="fade-left" data-aos-delay="150" style="text-align:right">
  <img src="<%= (settings && settings.avatarUrl) || (profile && profile.avatarUrl) || '/images/placeholder.svg' %>" alt="Avatar" style="width:280px;max-width:100%;height:280px;object-fit:cover;border-radius:50%;border:2px solid var(--border)" loading="lazy" decoding="async" />
      </div>
    </div>
  </section>

  <section class="featured" aria-labelledby="featured-heading">
    <div class="container">
      <h2 id="featured-heading">Featured Projects</h2>
      <div class="grid">
        <% if ((featured || []).length === 0) { %>
          <p>No featured projects yet. Check back soon!</p>
        <% } %>
        <% (featured || []).forEach((p, i) => { %>
          <article class="card" data-aos="fade-up" data-aos-delay="<%= i * 50 %>">
            <img src="<%= p.imageUrl || '/images/placeholder.svg' %>" alt="Screenshot of <%= p.title %>" loading="lazy" decoding="async"
                 <% if (p.imageUrl && clSrcset(p.imageUrl)) { %>
                   srcset="<%= clSrcset(p.imageUrl) %>" sizes="<%= clSizesDefault %>"
                 <% } %>
            />
            <div class="card-body">
              <h3><%= p.title %></h3>
              <p><%= p.description %></p>
              <div class="tags">
                <% (p.tech || []).forEach(t => { %>
                  <span class="tag"><%= t %></span>
                <% }) %>
              </div>
              <div class="actions">
                <% if (p.githubUrl) { %><a class="btn" href="<%= p.githubUrl %>" target="_blank" rel="noopener">Code</a><% } %>
                <% if (p.demoUrl) { %><a class="btn btn-primary" href="<%= p.demoUrl %>" target="_blank" rel="noopener">Live</a><% } %>
              </div>
            </div>
          </article>
        <% }) %>
      </div>
    </div>
  </section>
</main>
<%- include('partials/footer') %>
